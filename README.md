# Phenomenological model

Python implementation of phenomenological bearing model. 
See docs/procedure.md for an high level explanation of what the code is doing.

## Usage
- Edit the *simulation_properties.yml* file to change the simulation properties. 
- See the *make_example_dataset.py* file in notebooks directory for example usage of generating an entire dataset
- See the html file generated by *make_plots_that_illustrate_functionality.py* to understand the various parameters that govern the model response.

You can also obtain a simple signal by running making small changes to the default properties:

```
pbd = PyBearingDataset()

non_default_properties = {"t_duration": 1,
                        "n_measurements": 1,
                        "measurement_noise_standard_deviation": 0.0,
                        "fault_type": "outer"}

m = pbd.make_measurements_for_condition(properties_to_modify=non_default_properties)
```
This produces a dictionary with different fault modes, different fault severities. For each fault mode and severity, a numpy array is produced where each row is a measurement and each column is a time point.

## Installation / Getting the code to run on your machine
- clone the repository from Github:
  git clone https://github.com/DouwMarx/phenomenological_model.git

- create a new environment using conda or virtual environment:
   conda create --name phenomenological_model 

- Install the packaged required to run the code:
  pip install -r requirements.txt

# Installing the local python package in a different environment (example)
  pip install -e ~/projects/PhD/code/phenomenological_model/
  
# TODO: Update the cumtrapz function to cumulative_trapezoid, fix the build file
  If the above installation procedure does not work, you should be OK with an environment with the following packages:
    - numpy
    - scipy
    - plotly
    - tqdm
    - pyyaml


